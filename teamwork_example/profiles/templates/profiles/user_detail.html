{% extends "base.html" %}
{% load teamwork_tags %}
{% block title %}{{ user.username }} | user detail{% endblock %}
{% block content %}
<article id="user">

    <h1><span>User:</span>
        <span class="name">{{ user.username }}</span>
        {% if user.is_superuser %}
            <span class="is_superuser">(Is superuser)</span>
        {% endif %}
    </h1>

    {% if members %}
        <h2>Membership</h2>
        <ul class="members">
            {% for member in members %}
                <li>
                    <a class="team" href="{% url "profiles.views.team_detail" member.team.name %}">{{ member.team }}</a>:
                    {% if not member.role %}
                        No role
                    {% else %}
                    <span class="member.role">{{ member.role }}</span>
                    <dl>
                        {% for permission in member.role.permissions.all %}
                            <dt>{{ permission.content_type.app_label }}.{{ permission.codename }}</dt>
                            <dd>{{ permission }}</dd>
                        {% endfor %}
                    </dl>
                    {% endif %}
                </li>
            {% endfor %}
        </ul>
    {% endif %}

    <h2>Base permissions</h2>
    <ul class="base_perms">
        {% for perm in base_perms %}
            <li>{{ perm }}</li>
        {% endfor %}
    </ul>

</article>
{% endblock %}
